<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
</head>
<body>
    <div class="calculator">
        <div class="calculator__display"></div>
        <div class="history__display"></div>
        <div class="operator__display"></div>
        <div class="calculator__keys">
            <button class="key__operator" data-action="add">+</button>
            <button class="key__operator" data-action="subtract">-</button>
            <button class="key__operator" data-action="multiply">x</button>
            <button class="key__operator" data-action="divide">รท</button>
            <button class="key__number">7</button>
            <button class="key__number">8</button>
            <button class="key__number">9</button>
            <button class="key__number">4</button>
            <button class="key__number">5</button>
            <button class="key__number">6</button>
            <button class="key__number">1</button>
            <button class="key__number">2</button>
            <button class="key__number">3</button>
            <button class="key__number">0</button>
            <button class="key__number" data-action="decimal">.</button>
            <button class="key__clear key__operator"  data-action="clear">C</button>
            <button class="key__equal" data-action="calculate">=</button>
        </div>
    </div>
    <script>

            

       

         
        
        const numberButtons = document.querySelectorAll(".key__number");
        const operatorButtons = document.querySelectorAll(".key__operator");
        const calculatorDisplay = document.querySelector(".calculator__display");
        const historyDisplay = document.querySelector(".history__display");
        const operatorDisplay = document.querySelector(".operator__display");
        const equalKey = document.querySelector(".key__equal");


         //Functions to perform mathemagical calculations lol, each takes 2 parameters the firstNumber and the second Number

         //Addition function
         function addNumbers(firstNumber, secondNumber){
            calculatorDisplay.innerText= Number(firstNumber) + Number(secondNumber);
        }

        //Subtraction function
        function subtractNumbers(firstNumber, secondNumber){
            calculatorDisplay.innerText= Number(firstNumber) - Number(secondNumber);
        }

        //Division Function
        function divideNumbers(firstNumber, secondNumber){
            calculatorDisplay.innerText= Number(firstNumber)/Number(secondNumber);
        }

        //Multiplication Function
        function multiplyNumbers(firstNumber, secondNumber){
            calculatorDisplay.innerText= Number(firstNumber)*Number(secondNumber);
        }

        //A function which prints a number onto the calculator display
        function printOuput(number){
            calculatorDisplay.innerText = number;
        }

        //A function which will print a number onto the history display
        function printHistory(number){
            historyDisplay.innerText = number;
        }


        //A function which will save an operator in a area of the page lol
        function saveOperator(operator){
            operatorDisplay.innerText = operator;
        }
        
       

        //A for-loop to log the numbers being pressed 
        for(index = 0; index<numberButtons.length; index++){
            numberButtons[index].addEventListener("click", ()=>{
                
                const keyNumber = event.target.innerText //value within the pressed number button
                const displayValue = calculatorDisplay.innerText //calculator display number
                
            
                if(Number(displayValue) != NaN){
                    var number = displayValue + keyNumber;
                    printOuput(number);
                }


            })
        }

        
        //A for-loop to log the operator keys being pressed
        for(index = 0; index<operatorButtons.length; index++){
            operatorButtons[index].addEventListener("click", ()=>{
                
                const symbol = event.target.innerText;
                const keyValue = event.target.innerText;
                const currentDisplay = calculatorDisplay.innerText
                const savedOperator = operatorDisplay.innerText
                console.log(keyValue);

                if(calculatorDisplay.innerText != ""){

                    printHistory(currentDisplay); //will save the current value to history
                    printOuput(""); //will reset the output to nothing

                    switch(symbol){
                        case "+":
                        case "-":
                        case "รท":
                        case "x":
                            if(savedOperator != ""){
                            } else{
                                saveOperator(symbol);
                                console.log("operator saved");
                                }
                            break;

                        case "C":
                            printOuput("");
                            printHistory("");
                            saveOperator("");
                            break;
                    }
                }
            })
        }

        //Event listener added to determine what happens when equal key is pressed
        equalKey.addEventListener("click", ()=>{

            const currentNumber = calculatorDisplay.innerText;
            const firstNumber = historyDisplay.innerText;
            const operator = operatorDisplay.innerText;

            if(currentNumber != "" && firstNumber != "" && operator != ""){

                switch(operator){
                    case "+":
                        addNumbers(currentNumber, firstNumber);
                        break;
                    case "-":
                        subtractNumbers(currentNumber, firstNumber);
                        break;
                    case "x":
                        multiplyNumbers(currentNumber, firstNumber);
                        break;
                    case "รท":
                        divideNumbers(currentNumber, firstNumber);
                        break;
                }

                saveOperator("");
            }

        })


        
        

        

            
        


        

    

    
        
    </script>
    
</body>
</html>