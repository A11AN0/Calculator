<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Document</title>
</head>
<body>
    <div class="calculator">
        <div class="calculator__display">0</div>
        <div class="calculator__keys">
            <button class="key__operator" data-action="add">+</button>
            <button class="key__operator" data-action="subtract">-</button>
            <button class="key__operator" data-action="multiply">&times;</button>
            <button class="key__operator" data-action="divide">รท</button>
            <button class="key__number">7</button>
            <button class="key__number">8</button>
            <button class="key__number">9</button>
            <button class="key__number">4</button>
            <button class="key__number">5</button>
            <button class="key__number">6</button>
            <button class="key__number">1</button>
            <button class="key__number">2</button>
            <button class="key__number">3</button>
            <button class="key__number">0</button>
            <button data-action="decimal">.</button>
            <button data-action="clear">C</button>
            <button class= "key__equal" data-action="calculate">=</button>
        </div>
    </div>
    <script>

            const calculator = document.querySelector(".calculator");
            const display = document.querySelector(".calculator__display")
            const allKeys = document.querySelector(".calculator__keys")

            
            
            // What to do when a key is pressed!
            allKeys.addEventListener("click", ()=>{
                const key = event.target
                const keyValue = key.textContent
                const action = key.dataset.action //justify the use of dataset
                const displayText = display.textContent
                const {previousKeyType} = calculator.dataset //justify the use of dataset
                // var firstNumber;
                // var secondNumber;
                
                
                
                // If the key is a number..
                if (!action){
                    if(displayText === "0" || previousKeyType === "operator"){
                        display.textContent = keyValue
                        console.log(display.textContent)
                        console.log(previousKeyType)
                    } else {
                        display.textContent = displayText + keyValue
                        console.log(display.textContent)
                    }
                    calculator.dataset.previousKeyType = "number"   
                }
                
                // If the key is an operator.... (+, -, x, รท)
                if (action === "add" ||
                    action === "subtract" ||
                    action === "multiply" ||
                    action === "divide"){
                        key.classList.add("is-depressed");
                        calculator.dataset.previousKeyType = "operator" 
                        

                            firstNumber = Number(display.textContent);
                            console.log(firstNumber);
                        
                }

                // If the key is a decimal....
                if(action === "decimal"){
                    display.textContent = displayText + "."
                }

                if(action === "calculate"){

                    secondNumber = Number(display.textContent);
                    console.log(secondNumber + firstNumber);
                }

                

                

                
            })
            
            
    
        
    

    
        
    </script>
    
</body>
</html>